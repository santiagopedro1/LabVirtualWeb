<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.6.0/dist/chart.min.js"></script>
</head>
<body>
    
    <div id="Umidade">
        <canvas id="graficoUmidade" height="70vh"></canvas>
    </div>

    <div id="Condu">
        <canvas id="graficoCondu" height="70vh"></canvas>
    </div>

    <div id="Temp">
        <canvas id="graficoTemp" height="70vh"></canvas>
    </div>

    <script>
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.open('GET', 'DADOS.json', true);
        xmlhttp.send();
        xmlhttp.onreadystatechange = function(){
            if(this.readyState == 4 && this.status == 200){
                var data = JSON.parse(this.responseText);
                // console.log(data)
                var tempo = data.dados_teste.map(function(elem){
                    return elem.tempo;
                })

                var Umidadecomp = data.dados_teste.map(function(elem){
                    return elem.Umidadecomp;
                })

                var Umidadesem = data.dados_teste.map(function(elem){
                    return elem.Umidadesem;
                })


                var Conducomp = data.dados_teste.map(function(elem){
                    return elem.Conducomp;
                })

                var Condusem = data.dados_teste.map(function(elem){
                    return elem.Condusem;
                })


                var Tempcomp = data.dados_teste.map(function(elem){
                    return elem.Tempcomp;
                })

                var Tempsem = data.dados_teste.map(function(elem){
                    return elem.Tempsem;
                })
            }


    const ctx = document.getElementById('graficoUmidade').getContext('2d')
    const Umidadegraph = new Chart(ctx, {
        type: 'line',
        data:{
            labels: tempo,
            datasets:[
                {
                    label: 'Com palha',
                    data: Umidadecomp,
                    borderColor: 'blue',
                    backgroundColor: 'blue',
                    borderWidth: 1,
                },

                {
                    label: 'Sem palha',
                    data: Umidadesem,
                    borderColor: 'red',
                    backgroundColor: 'red',
                    borderWidth: 1,
                }]
                
        },
            options:{
                layout: {
                    padding: {
                        left: 5,
                        right: 5,
                        }
                    },
                    plugins:{
                        title: {
                        display: true,
                        text:  'Gráfico da Umidade',
                        font: {
                            size: 20
                            }
                        }
                        },
                    interaction: {
                        intersect: false,
                        mode: 'index'
                        },
                    scales: {
                        y: {
                        stacked: false,
                        display: true,
                        position: 'left',
                        },
                }
             },

             

        }
        )

        const ctx2 = document.getElementById('graficoCondu').getContext('2d')
        const Condugraph = new Chart(ctx, {
        type: 'line',
        data:{
            labels: tempo,
            datasets:[
                {
                    label: 'Com palha',
                    data: Conducomp,
                    borderColor: 'blue',
                    backgroundColor: 'blue',
                    borderWidth: 1,
                },

                {
                    label: 'Sem palha',
                    data: Condusem,
                    borderColor: 'red',
                    backgroundColor: 'red',
                    borderWidth: 1,
                }]
                
        },
            options:{
                layout: {
                    padding: {
                        left: 5,
                        right: 5,
                        }
                    },
                    plugins:{
                        title: {
                        display: true,
                        text:  'Gráfico da Umidade',
                        font: {
                            size: 20
                            }
                        }
                        },
                    interaction: {
                        intersect: false,
                        mode: 'index'
                        },
                    scales: {
                        y: {
                        stacked: false,
                        display: true,
                        position: 'left',
                        },
                }
             },

             

        }
        )

    }
    

    

    </script>

</body>
</html>